@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap");

/* ---------- Theme variables ---------- */
:root{
  --bg1: #05060a;
  --bg2: #00131a;
  --glass-edge: rgba(255,255,255,0.06);
  --neon-x: #ff6b88;
  --neon-o: #33f0ff;
  --accent: #00e0ff;
  --muted: rgba(255,255,255,0.12);
  --glass-blur: 10px;
  --board-size: min(78vmin, 680px); /* responsive cap */
}

/* ---------- Page layout ---------- */
* {box-sizing: border-box}
html,body{height:100%;margin:0}
body{
  font-family: "Poppins", sans-serif;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(3,16,28,0.7), transparent),
              linear-gradient(180deg,var(--bg1),var(--bg2));
  color: #e9f8ff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
}

/* Stage centers the entire app and provides perspective for 3D */
.stage{
  width:100%;
  max-width:1100px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:22px;
  transform-style:preserve-3d;
  perspective:1400px;
}

/* HUD */
.hud{
  width:100%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  color:#cfefff;
}
.logo{
  letter-spacing:0.4px;
  font-weight:700;
  font-size:1.25rem;
  margin:0;
  text-shadow: 0 6px 30px rgba(0,224,255,0.06);
}
.logo span{ color:var(--accent) }
.controls{
  display:flex;
  align-items:center;
  gap:12px;
}
.message{
  min-width:160px;
  text-align:center;
  padding:10px 14px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  font-weight:600;
  font-size:0.98rem;
}

/* Button */
.btn{
  border: none;
  padding:10px 16px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  background: linear-gradient(135deg, rgba(0,224,255,0.12), rgba(0,80,160,0.14));
  color: #eaffff;
  box-shadow: 0 6px 20px rgba(0,224,255,0.06);
  transition: transform .18s ease, box-shadow .18s ease;
}
.btn:hover{ transform: translateY(-4px); box-shadow: 0 18px 40px rgba(0,224,255,0.12) }

/* Arena and pedestal (glass slab) */
.arena { width:100%; display:flex; justify-content:center; align-items:center; }
.pedestal{
  width:var(--board-size);
  max-width:95vw;
  transform-style:preserve-3d;
  position:relative;
  padding:28px;
  border-radius:24px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  box-shadow: 0 18px 60px rgba(4,20,40,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
  backdrop-filter: blur(10px);
  border: 1px solid var(--glass-edge);
  perspective:1400px;
  transform: translateZ(40px) rotateX(6deg);
}

/* Board (3x3) */
.board{
  --cell-gap: min(3.2vmin, 14px);
  width:100%;
  aspect-ratio:1/1;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,1fr);
  gap:var(--cell-gap);
  padding: calc(var(--cell-gap) / 2);
  transform-style:preserve-3d;
  position:relative;
}

/* Glass grid overlay (subtle lines) */
.board::before{
  content:"";
  position:absolute;
  inset:calc(var(--cell-gap)/2);
  pointer-events:none;
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.012), transparent);
}

/* Cells â€” modern glass tiles */
.cell{
  position:relative;
  border-radius:14px;
  border: 1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow:
    0 10px 30px rgba(0,0,0,0.6),
    inset 0 1px 0 rgba(255,255,255,0.03),
    inset 0 -6px 60px rgba(255,255,255,0.01);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transform: translateZ(18px);
  transition: transform .22s cubic-bezier(.15,.9,.25,1), box-shadow .22s linear;
  -webkit-tap-highlight-color: transparent;
  overflow:visible;
}

/* tile hover / press */
.cell:hover{ transform: translateZ(34px) translateY(-6px); box-shadow: 0 24px 60px rgba(2,16,32,0.6) }
.cell:active{ transform: translateZ(28px) translateY(-2px) }

/* symbol container */
.symbol{
  display:block;
  width:62%;
  height:62%;
  font-weight:700;
  font-size: clamp(3.2rem, 6vmin, 5.6rem);
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  transform-style:preserve-3d;
  filter: drop-shadow(0 6px 22px rgba(0,0,0,0.6));
  opacity:0;
  transform: translateZ(40px) scale(.85) rotateX(10deg);
  transition: opacity .18s ease, transform .36s cubic-bezier(.2,.9,.25,1);
}

/* X and O styles */
.symbol.X{
  color: var(--neon-x);
  text-shadow:
    0 0 18px rgba(255,107,136,0.45),
    0 0 36px rgba(255,107,136,0.18);
  font-family: system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  letter-spacing: .02em;
}
.symbol.O{
  color: var(--neon-o);
  text-shadow:
    0 0 18px rgba(51,240,255,0.45),
    0 0 36px rgba(51,240,255,0.16);
}

/* when placed */
.cell.placed .symbol{ opacity:1; transform: translateZ(60px) scale(1) rotateX(0deg) }

/* subtle inner reflection on each tile */
.cell::after{
  content:"";
  position:absolute;
  inset:3%;
  border-radius:12px;
  pointer-events:none;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.007));
  mix-blend-mode: screen;
}

/* highlight for hovered/active player tiles (optional) */
.cell.hover-X{ box-shadow: 0 20px 50px rgba(255,107,136,0.08), inset 0 0 18px rgba(255,107,136,0.03) }
.cell.hover-O{ box-shadow: 0 20px 50px rgba(51,240,255,0.08), inset 0 0 18px rgba(51,240,255,0.03) }

/* Winning line overlay */
.win-line{
  position:absolute;
  left:50%;
  top:50%;
  transform-origin:center;
  height:18px; /* thin neon bar */
  border-radius:999px;
  pointer-events:none;
  width:0;
  opacity:0;
  transition: width .45s cubic-bezier(.15,.9,.25,1), transform .45s cubic-bezier(.15,.9,.25,1), opacity .22s;
  box-shadow: 0 0 28px rgba(0,0,0,0.6), 0 0 60px rgba(255,255,255,0.02);
}

/* the neon core of the win line created with pseudo element to blend color */
.win-line::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
  mix-blend-mode:screen;
  filter: blur(6px);
}

/* Reflection on ground */
.ground-reflection{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:-22px;
  width:85%;
  height:34px;
  border-radius:50%;
  background: radial-gradient(closest-side, rgba(0,224,255,0.06), transparent 60%);
  filter: blur(18px);
  opacity:0.85;
  pointer-events:none;
}

/* footer */
.credit{
  font-size:0.82rem;
  color: rgba(255,255,255,0.28);
  margin-top:6px;
}

/* responsive tweaks */
@media (max-width:640px){
  .hud{ flex-direction:column; align-items:center; gap:8px }
  .message{ min-width:unset; width:100%; max-width:260px }
  .pedestal{ padding:18px; border-radius:16px }
}
